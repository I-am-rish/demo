"use strict";(self.webpackChunkangolosport=self.webpackChunkangolosport||[]).push([[183],{183:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(5043),o=a(1591),r=a(7360),n=a(3216),i=a(5475),l=a(854),d=a.n(l),c=a(7503),g=a(8786),p=a(8303),h=a(8155),u=a(579);const m=function(e){let{modelTitle:t,loadingConfirmButton:a,loadingConfirmButtonText:s,showModalHandler:o,hideModalHandler:r,confirmModalHandler:n,actionButtonClass:i,message:l,actionType:d}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(p.A,{show:o,onHide:r,children:[(0,u.jsx)(p.A.Header,{closeButton:!0,children:(0,u.jsx)(p.A.Title,{children:t})}),(0,u.jsx)(p.A.Body,{children:(0,u.jsx)("div",{children:l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()})}),(0,u.jsxs)(p.A.Footer,{children:[(0,u.jsx)(h.A,{variant:"default",onClick:r,children:"Cancel"}),(0,u.jsx)(h.A,{disabled:a,variant:i,onClick:n,children:a?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,u.jsx)("span",{className:"sr-only"})," ",s]}):d})]})]})})};var x=a(6770);const y=function(){const e=(0,n.zy)(),[t,a]=(0,s.useState)(!1),[l,p]=(0,s.useState)(""),[h,y]=(0,s.useState)(0),[j,C]=(0,s.useState)(1),[f,v]=(0,s.useState)(10),[b,S]=(0,s.useState)(!1),[w,N]=(0,s.useState)("Deleting"),[A,k]=(0,s.useState)(!1),[B,H]=(0,s.useState)(null),[M,T]=(0,s.useState)("Confirm Delete"),[z,P]=(0,s.useState)("Are you sure want to delete this advertise?"),[R,O]=(0,s.useState)("Delete"),[L,D]=(0,s.useState)(!1),F=(0,n.Zp)(),_=e=>{console.log("toggle",e.target.id),e.target.checked?d().patch("/admin/updateSportsCategoryStatus/".concat(e.target.id,"/true")).then((e=>{D(Math.random())})):d().patch("/admin/updateSportsCategoryStatus/".concat(e.target.id,"/false")).then((e=>{D(Math.random())}))},E=e=>{console.log("eee",e.target.id),F("/category/editcategory/".concat(e.target.id))},U=[{name:"Sport Logo",selector:e=>e.sportLogo,cell:e=>(0,u.jsx)("img",{className:"img img-circle",height:50,width:50,src:e.sportLogo,alt:e.sportLogo}),center:!0},{name:"Sport Name",selector:e=>e.sportName},{name:"Active",selector:e=>(0,u.jsx)(x.A,{id:e._id,checked:e.isActive,onChange:_})},{name:"Created At",selector:e=>e.createdAt.substring(0,10)},{name:"Updated At",selector:e=>e.updatedAt.substring(0,10)},{name:"Action",selector:e=>e.id,cell:e=>(0,u.jsxs)("select",{onChange:e=>{(e=>{F("/category/".concat(e.target.value,"/").concat(e.target.id))})(e)},id:e._id,style:{border:"none",width:"75px",padding:"10px 0px",fontSize:"1.2rem",outline:"none",background:"transparent",opacity:".6"},children:[(0,u.jsx)("option",{disabled:!0,selected:!0,children:"select"}),(0,u.jsx)("option",{value:"prediction",children:"Predictions"}),(0,u.jsx)("option",{value:"ranking",children:"Rankings"}),(0,u.jsx)("option",{value:"contest",children:"Contest"})]}),center:!0},{name:"",selector:e=>(0,u.jsx)("i",{className:"EditButton fa fa-edit fonts",onClick:E,style:{color:"green",cursor:"pointer"},id:e._id})}],G=(0,s.useCallback)((async()=>{try{a(!0);await d().get("/admin/getAllSportsCategory?pageNumber=".concat(j,"&pageSize=").concat(f,"&search=")).then((e=>e.data.data.result)).then((e=>{p(e),y(e.length),a(!1)}))}catch(e){console.log("error",e)}}),[j,L]);return(0,s.useEffect)((()=>{if(G(),e.state){let t=e.state.message;window.history.replaceState({},document.title),F(e.pathname,{replace:!0}),(0,c.oR)(t,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,type:"success"})}}),[e,G]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.m,{children:(0,u.jsx)("title",{children:"Category Management"})}),(0,u.jsx)(r.A,{children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-12",children:(0,u.jsxs)("div",{className:"card my-4",children:[(0,u.jsx)("div",{className:"card-header p-0 position-relative mt-n4 mx-3 z-index-2",children:(0,u.jsxs)("div",{style:{backgroundColor:"#46456e"},className:"shadow-primary border-radius-lg d-flex justify-content-between pt-4",children:[(0,u.jsxs)("div",{className:"d-flex ps-3",children:[(0,u.jsx)("i",{style:{color:"#fff",cursor:"pointer"},className:"fa fa-arrow-left fs-4",onClick:()=>{F("/dashboard")}}),(0,u.jsx)("h6",{className:"text-white text-capitalize ps-4 ",children:"CATEGORY"})]}),(0,u.jsx)(i.N_,{to:"/category/addcategory",title:"Add New",className:"btn btn-rounded btn-icon custom-add-new-button",children:(0,u.jsx)("i",{className:"fa fa-plu",children:"New Category"})})]})}),(0,u.jsx)("div",{className:"card-body px-0 pb-2",children:(0,u.jsxs)("div",{className:"p-4",children:[(0,u.jsx)("div",{className:"input-group input-group-dynamic",children:"\xa0 \xa0"}),(0,u.jsxs)("div",{className:"table-responsive p-0",children:[(0,u.jsx)(g.Ay,{columns:U,data:l,progressPending:t,pagination:!0,paginationServer:!0,paginationTotalRows:h,onChangeRowsPerPage:async(e,t)=>{C(t),v(e)},onChangePage:e=>{C(e)},sortServer:!0,customStyles:{header:{style:{border:"1px solid gray"}},headRow:{style:{fontSize:"1.2rem",border:"1px solid gray",backgroundColor:"#8180a6"}},rows:{style:{fontSize:"1.2rem",border:"1px solid gray"}},pagination:{style:{fontSize:"1.2rem",border:"1px solid gray",backgroundColor:"#8180a6"}}}}),A&&(0,u.jsx)(m,{showModalHandler:(e,t)=>{alert("show delete modal")},confirmModalHandler:async()=>{S(!0),N("Deleting");try{let e=await d().delete("admin/advertisement/del/".concat(B));(0,c.oR)(e.data.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,type:"success"}),k(!1),S(!1),C(1),G()}catch(e){(0,c.oR)(e.response.data.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,type:"error"}),k(!1),S(!1),C(1),G()}},hideModalHandler:()=>{k(!1),H(null)},loadingConfirmButton:b,loadingConfirmButtonText:w,modelTitle:M,actionButtonClass:"primary",actionType:R,message:z})]})]})})]})})})})]})}}}]);
//# sourceMappingURL=183.c7c3a841.chunk.js.map