"use strict";(self.webpackChunkangolosport=self.webpackChunkangolosport||[]).push([[849],{1849:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var l=a(5043),r=a(1591),t=a(7360),i=a(854),o=a.n(i),n=a(7503),d=a(3516),c=a(3216),p=a(1574),m=a(3033),u=a(579);const h=function(){const[e,s]=(0,l.useState)(!1),[a,i]=(0,l.useState)([]),[h,g]=(0,l.useState)(!1),[x,y]=(0,l.useState)({mediaFile:"",sportsCategory:"",sheetType:""}),v=(0,c.Zp)(),b=["text/csv","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],f=m.Ik().shape({mediaFile:m.gl().required("file is required").test("fileFormat","file format must (.csv , .xlsx) ",(e=>e&&b.includes(e.type))),sportsCategory:m.Yj().required("Category is required"),sheetType:m.Yj().required("Sheet type is required")}),j=(0,d.Wx)({initialValues:x,validationSchema:f,onSubmit:async e=>{try{let a=new FormData;a.append("mediaFile",e.mediaFile),a.append("sportsCategory",e.sportsCategory),a.append("sheetType",e.sheetType),console.log("vvvvv",e),s(!0),console.log("form",a);let l=await o().post("admin/extrackData",a);v("/file",{state:{message:l.data.message}})}catch(a){a.response.data.error?(0,n.oR)(a.response.data.error.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,type:"error"}):(0,n.oR)(a.response.data.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,type:"error"}),s(!1)}}}),C=a.map((e=>({value:e._id,label:e.sportName}))),N=(0,l.useCallback)((async()=>{try{g(!0);const e=await o().get("game/getAllSportsCategory?pageNumber=10&pageSize=0&search=");i(e.data.data.result),g(!1)}catch(e){console.log("error",e)}}),[]);return(0,l.useEffect)((()=>{N()}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.m,{children:(0,u.jsx)("title",{children:"Add File"})}),(0,u.jsx)(t.A,{children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-12",children:(0,u.jsxs)("div",{className:"card my-4 mx-5",children:[(0,u.jsx)("div",{className:"card-header p-0 position-relative mt-n4 mx-3 z-index-2",children:(0,u.jsx)("div",{style:{backgroundColor:"#46456e"},className:"shadow-primary border-radius-lg pt-4 pb-3",children:(0,u.jsxs)("div",{className:"d-flex ps-3 align-item-center",children:[(0,u.jsx)("i",{style:{color:"#fff",cursor:"pointer"},className:"fa fa-arrow-left fs-4",onClick:()=>{v(-1)}}),(0,u.jsx)("h6",{className:"text-white text-capitalize ps-4 ",children:"ADD NEW FILE"})]})})}),(0,u.jsx)("div",{className:"card-body px-0 pb-2",children:(0,u.jsx)("div",{className:"p-4",children:(0,u.jsxs)("form",{onSubmit:j.handleSubmit,children:[j.errors.mediaFile?(0,u.jsx)("div",{className:"text-danger",children:j.errors.mediaFile}):null,(0,u.jsxs)("div",{className:"input-group input-group-outline mb-3",style:{flexDirection:"column"},children:[(0,u.jsx)("label",{style:{color:"black"},className:"fs-6 ",children:"Category :"}),(0,u.jsx)(p.Ay,{id:"_id",name:"sportsCategory",options:C,styles:{width:"100%"},value:C.find((e=>e.value===j.values.sportsCategory))||null,onChange:e=>{j.handleChange({target:{id:"_id",name:"sportsCategory",value:e?e.value:""}}),console.log("ssssss",e)},placeholder:"--select--",getOptionLabel:e=>e.label,getOptionValue:e=>e.value})]}),j.errors.sportsCategory?(0,u.jsx)("div",{className:"text-danger",children:j.errors.sportsCategory}):null," ",(0,u.jsxs)("div",{className:"input-group input-group-outline mb-3",children:[(0,u.jsx)("label",{style:{color:"black"},className:"fs-6",children:"Sheet Type :"}),(0,u.jsxs)("select",{className:"form-control fs-6",name:"sheetType",id:"sheetType",style:{width:"100%"},value:j.values.sheetType||"",onChange:j.handleChange,children:[(0,u.jsx)("option",{value:"",selected:!0,children:"--select--"}),(0,u.jsx)("option",{value:"Predictions",children:"Predictions"}),(0,u.jsx)("option",{value:"Rankings",children:"Rankings"}),(0,u.jsx)("option",{value:"Contest",children:"Contest"})]})]}),j.errors.sheetType?(0,u.jsx)("div",{className:"text-danger",children:j.errors.sheetType}):null,(0,u.jsxs)("div",{className:"input-group input-group-outline mb-3",children:[(0,u.jsx)("label",{style:{color:"black"},className:"fs-6",children:"Excel File :"}),(0,u.jsx)("input",{style:{width:"100%"},type:"file",id:"mediaFile",name:"mediaFile",className:"form-control fs-6",placeholder:"mediaFile",onChange:e=>{j.setFieldValue("mediaFile",e.target.files[0])}})]}),(0,u.jsxs)("div",{className:"text-center",children:["\xa0\xa0",(0,u.jsx)("button",{type:"submit",className:"btn btn-lg y btn-lg w-20 mt-4 mb-0",disabled:e,style:{backgroundColor:"#46456e",color:"#fff"},children:e?(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,u.jsx)("span",{className:"sr-only"})," Submitting"]}):"Submit"})]})]})})})]})})})})]})}}}]);
//# sourceMappingURL=849.2c640ef8.chunk.js.map